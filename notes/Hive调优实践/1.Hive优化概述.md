# Hive优化概述

Hive优化的方式是多样的，可以通过SQL改写、调整数据存储的文件块、改变数据的存储格式，以及Hive表的设计等多种方式。

对于每一种调优方式，我们不仅要知其然更要知其所以然，这样才能够在实际的工作过程中快速定位问题并解决。

如何提升我们优化的能力呢？主要分为两步：

1. 理解基本的MR过程和原理；
2. 在平时写SQL的过程中，尝试将SQL拆解成计算引擎对应的算子，拆解完和执行计划对比，还要和实际执行过程的算子对比，并思考自己拆解完后的算子与通过explain方式得到的算子的执行计划有什么差异。

## 大数据作业的瓶颈

在大数据领域中，分布式计算和分布式存储会消耗大量的磁盘I/O和网络I/O资源，这部分资源则称为了大数据作业的性能瓶颈。通常，如果CPU使用率较低，而磁盘和网络I/O很高的情况下，优化的焦点就要放在“如何降低作业对I/O资源的消耗上”。

MR任务有一个缺点：启动一次作业需要多次磁盘读写，因为MR任务会将`中间结果`写入磁盘，而且为了保障磁盘的读写效率和网络传输效率，会进行多次排序。

也就是说，如果一个SQL包含了多个作业，作业和作业之间的中间结果会先写到磁盘上。那么，只要减少中间结果的产生，也就能够达到降低I/O资源消耗，提升程序效率。



